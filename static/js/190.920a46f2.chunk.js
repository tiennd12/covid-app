"use strict";(self.webpackChunkberry_material_react_free=self.webpackChunkberry_material_react_free||[]).push([[190],{3190:function(e,a,s){s.r(a);var t=s(2791),l=s(6871),n=s(9692),i=s(8378),r=s(6444),d=s(1614),o=s(7621),c=s(9504),x=s(1889),h=s(4554),u=s(3767),m=s(890),j=s(8096),p=s(7391),Z=s(6151),v=s(1914),b=s(4925),g=s(8837),f=s(3786),k=s(5921),N=s(7061),C=s(8956),y=s(184);a.default=()=>{const{isAdmin:e}=(0,t.useContext)(k.u),[a,s]=(0,t.useState)(""),[S,P]=(0,t.useState)(""),[E,R]=(0,t.useState)(""),[I,D]=(0,t.useState)(""),[T,B]=(0,t.useState)(""),[O,V]=(0,t.useState)(""),[W,q]=(0,t.useState)(""),[w,A]=(0,t.useState)(""),[X,_]=(0,t.useState)(""),[F,Q]=(0,t.useState)(""),[U,J]=(0,t.useState)(""),[M,G]=(0,t.useState)([]),[H,L]=(0,t.useState)(""),[z,K]=(0,t.useState)(!1),[Y,$]=(0,t.useState)(!1),ee=(0,l.s0)(),ae=(0,N.Z)((e=>({header:{marginBottom:"30px",textTransform:"uppercase"},textField:{margin:"20px 0"},box:{border:"2px solid black",borderRadius:"10px",boxShadow:"1px 2px 4px rgba(0, 0, 0, 0.4)",padding:"20px",width:"300px",margin:"20px auto"},icons:{cursor:"pointer"},button:{margin:"10px 30px"}})))();(0,r.Aj)(i.I8,(e=>{e&&(q(e.email),(0,n.cf)((0,i.nx)(W),(e=>{e.forEach((e=>_(e.data().assignedRole)))})))}));return(0,t.useEffect)((()=>{(0,n.cf)(i.EP,(e=>{let a=[];e.docs.forEach((e=>{a.push({...e.data(),id:e.id})})),D(a)})),(0,n.cf)(i.V7,(e=>{let a=[];e.docs.forEach((e=>{a.push(...e.data().roles)})),G(a)}))}),[w,X,F]),X?(0,y.jsxs)(d.Z,{children:[e&&(0,y.jsx)(o.Z,{sx:{marginBottom:"50px",textAlign:"center"},children:(0,y.jsx)(c.Z,{children:(0,y.jsxs)(x.ZP,{container:!0,children:[(0,y.jsx)(x.ZP,{item:!0,sm:6,children:z?(0,y.jsxs)(h.Z,{className:ae.box,children:[(0,y.jsx)(u.Z,{sx:{alignItems:"flex-end"},children:(0,y.jsx)(C.kjg,{className:ae.icons,onClick:()=>K(!1)})}),(0,y.jsx)(m.Z,{variant:"h3",children:"T\u1ea1o vai tr\xf2"}),(0,y.jsxs)(j.Z,{children:[(0,y.jsx)(p.Z,{className:ae.textField,label:"t\u1ea1o role",onChange:e=>L(e.target.value),value:H}),(0,y.jsx)(Z.Z,{variant:"contained",color:"secondary",onClick:e=>{e.preventDefault(),-1===M.indexOf(H)?(M.push(H),(0,n.pl)((0,n.JU)(i.db,"roleData","taQPWqV16yQr1NZOkEXM"),{roles:M})):window.alert("\u0110\xe3 c\xf3 role n\xe0y tr\xean h\u1ec7 th\u1ed1ng"),L("")},children:"T\u1ea1o"})]})]}):(0,y.jsx)(Z.Z,{variant:"contained",color:"secondary",className:ae.button,onClick:()=>K(!0),children:"T\u1ea1o vai tr\xf2"})}),(0,y.jsx)(x.ZP,{item:!0,sm:6,children:Y?(0,y.jsxs)(h.Z,{className:ae.box,children:[(0,y.jsx)(u.Z,{sx:{alignItems:"flex-end"},children:(0,y.jsx)(C.kjg,{className:ae.icons,onClick:()=>$(!1)})}),(0,y.jsx)(m.Z,{variant:"h3",children:"X\xf3a vai tr\xf2"}),(0,y.jsx)(v.Z,{className:ae.textField,isOptionEqualToValue:(e,a)=>e.id===a.id,disablePortal:!0,onChange:(e,a)=>Q(a),value:F,id:"combo-box-demo",options:M,renderInput:e=>(0,y.jsx)(p.Z,{...e,label:"Ch\u1ecdn vai tr\xf2"})}),(0,y.jsx)(Z.Z,{variant:"contained",color:"error",onClick:e=>{e.preventDefault(),((e,a)=>{let s=e.indexOf(a);s>-1&&e.splice(s,1)})(M,F),(0,n.pl)((0,n.JU)(i.db,"roleData","taQPWqV16yQr1NZOkEXM"),{roles:M}),Q("")},children:"X\xf3a"})]}):(0,y.jsx)(Z.Z,{variant:"contained",color:"error",className:ae.button,onClick:()=>$(!0),children:"X\xf3a vai tr\xf2"})})]})})}),(0,y.jsxs)(o.Z,{children:["admin"===X?T?(0,y.jsxs)(c.Z,{sx:{textAlign:"center"},children:[(0,y.jsx)(m.Z,{variant:"h2",className:ae.header,gutterBottom:!0,children:"Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"}),(0,y.jsx)(p.Z,{className:ae.textField,label:"H\u1ecd v\xe0 t\xean:",value:T.name,InputProps:{readOnly:!0},fullWidth:!0,variant:"outlined"}),(0,y.jsx)(p.Z,{className:ae.textField,label:"Vai tr\xf2:",value:T.assignedRole,InputProps:{readOnly:!0},fullWidth:!0,variant:"outlined"}),(0,y.jsxs)("div",{children:[(0,y.jsx)(u.Z,{className:"addRole-form",children:(0,y.jsxs)(j.Z,{variant:"standard",sx:{m:2,minWidth:120},children:[(0,y.jsxs)(b.Z,{id:"demo-simple-select-label",children:["Ph\xe2n quy\u1ec1n"," "]})," ",(0,y.jsxs)(g.Z,{className:"addRole-role",onChange:e=>P(e.target.value),value:S,label:"Ph\xe2n quy\u1ec1n",labelId:"demo-simple-select-label",id:"demo-simple-select",children:[(0,y.jsx)(f.Z,{value:"user",children:" User "}),(0,y.jsx)(f.Z,{value:"moderator",children:" Moderator "})," "]})]})}),(0,y.jsx)(u.Z,{className:"addRole-form",children:(0,y.jsxs)(j.Z,{variant:"standard",sx:{m:2,minWidth:120},children:[(0,y.jsxs)(b.Z,{id:"demo-simple-select-label",children:["Vai tr\xf2"," "]})," ",(0,y.jsxs)(g.Z,{className:"addRole-role",onChange:e=>R(e.target.value),value:E,label:"Vai tr\xf2 ",labelId:"demo-simple-select-label",id:"demo-simple-select",children:[(0,y.jsx)(f.Z,{value:"1A",children:" 1A "}),(0,y.jsx)(f.Z,{value:"1B",children:" 1B "})]})]})}),(0,y.jsx)(Z.Z,{variant:"contained",type:"submit",onClick:e=>{e.preventDefault(),(0,n.pl)((0,n.JU)(i.db,"userData",w),{...T,assignedRole:S}),P(""),R("")},children:"G\u1eedi"})]})]}):(0,y.jsx)(c.Z,{children:(0,y.jsx)("form",{className:"addRole-form",children:(0,y.jsxs)(u.Z,{spacing:2,children:[(0,y.jsx)(p.Z,{id:"standard-basic",variant:"standard",type:"text",label:"T\xecm theo s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",className:"addInfo-findWithPhone",value:a,onChange:e=>s(e.target.value)}),(0,y.jsx)(Z.Z,{variant:"contained",type:"sumbit",onClick:e=>{e.preventDefault(),I&&((0,n.cf)((0,i.i3)(i.EP,a),(e=>{e.forEach((e=>{B(e.data()),A(e.id),J(e.data().assignedRole)}))})),(0,n.cf)((0,i.i3)(i.Xg,a),(e=>{e.forEach((e=>{V(e.data())}))})))},children:"T\xecm"})]})})}):(0,y.jsxs)(c.Z,{children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)(m.Z,{variant:"subtitle1",gutterBottom:!0,sx:{color:"red"},children:["B\u1ea1n kh\xf4ng \u0111\u1ee7 quy\u1ec1n h\u1ea1n \u0111\u1ec3 truy c\u1eadp"," "]})," "]})," ",(0,y.jsxs)(Z.Z,{variant:"contained",onClick:e=>{e.preventDefault(),ee("/")},children:["Quay l\u1ea1i trang ch\u1ee7"," "]})," "]})," "]})]}):(0,y.jsx)("div",{children:" Loading "})}}}]);
//# sourceMappingURL=190.920a46f2.chunk.js.map